<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyRecV - Screen Recording</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-title">
        <h1>MyRecV</h1>
        <span class="recording-indicator" id="recordingIndicator"></span>
      </div>
      <div class="header-timer" id="timer">00:00:00</div>
    </header>

    <!-- Data input form -->
    <div class="form-section" id="formSection">
      <div class="form-group">
        <label for="taskNumber">
          Task number <span class="required">*</span>
        </label>
        <input
          type="text"
          id="taskNumber"
          placeholder="TASK-123"
          required
          autocomplete="off"
        />
        <span class="error-message" id="taskNumberError"></span>
      </div>

      <div class="form-group">
        <label for="description">
          Description (optional)
          <span class="char-count">
            <span id="charCount">0</span>/200
          </span>
        </label>
        <textarea
          id="description"
          placeholder="Brief recording description..."
          maxlength="200"
          rows="3"
        ></textarea>
      </div>

      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" id="audioOnly" />
          <span>Audio only (no video)</span>
        </label>
      </div>
    </div>

    <!-- Recording status -->
    <div class="status-section" id="statusSection">
      <div class="status-message">
        <div class="status-icon">üî¥</div>
        <div class="status-text">
          <strong>Recording in progress...</strong>
          <p id="statusDetails">Video + Audio</p>
        </div>
      </div>
    </div>

    <!-- Control buttons -->
    <div class="actions">
      <button class="btn btn-primary" id="startBtn">
        <span class="btn-icon">‚è∫</span>
        <span class="btn-text">RECORD</span>
      </button>

      <button class="btn btn-danger hidden" id="stopBtn">
        <span class="btn-icon">‚èπ</span>
        <span class="btn-text">STOP</span>
      </button>

      <button class="btn btn-secondary btn-speaker-rename" id="speakerRenameBtn"
              title="Select the folder containing protocol.md, summary.md and transcript files to rename speakers">
        <span class="btn-icon">üé§</span>
        <span class="btn-text">Rename speakers</span>
      </button>
    </div>

    <!-- Recording history (if enabled in settings) -->
    <div class="history-section hidden" id="historySection">
      <div class="history-header">
        <h3>Recent recordings</h3>
        <button class="btn-icon-small" id="clearHistoryBtn" title="Clear history">
          üóëÔ∏è
        </button>
      </div>
      <div class="history-list" id="historyList">
        <!-- Dynamically added via JS -->
      </div>
    </div>

    <!-- Footer with link to settings -->
    <footer class="footer">
      <div class="footer-left">
        <button class="btn-link" id="settingsBtn">‚öôÔ∏è Settings</button>
        <span class="nextcloud-badge hidden" id="nextcloudBadge" title="NextCloud enabled">
          ‚òÅÔ∏è
        </span>
      </div>
      <span class="version">v1.0.0</span>
    </footer>
  </div>

  <script src="index.js" type="module"></script>
</body>
</html>
